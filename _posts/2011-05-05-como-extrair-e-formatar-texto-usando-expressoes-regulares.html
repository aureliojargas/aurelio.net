---
author: aurelio
layout: wordpress
slug: como-extrair-e-formatar-texto-usando-expressoes-regulares
title: 'Vídeo-aula: Como extrair e formatar texto usando Expressões Regulares'
wordpress_id: 2849
categories:
- nerd
- screencast
tags:
- expressoes-regulares
- sed
- twitter
prev_title: "Seu SIM reproduziu um tom"
prev_url: http://aurelio.net/blog/2011/04/29/seu-sim-reproduziu-um-tom/
next_title: "Corrida do Pato na 10ª Festa do Pato em Pirabeiraba-SC"
next_url: http://aurelio.net/blog/2011/05/11/corrida-do-pato-na-10-festa-do-pato-em-pirabeiraba-sc/
shortlink: http://wp.me/p1ABFN-JX
---


<p><span class='embed-youtube' style='text-align:center; display: block;'><iframe class='youtube-player' type='text/html' width='640' height='390' src='http://www.youtube.com/embed/LZcTSKIwZqI?version=3&amp;rel=1&amp;fs=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent' frameborder='0'></iframe></span></p>
<p>Este vídeo demonstra como usar <a href="http://aurelio.net/regex/">Expressões Regulares</a> para extrair informações de um texto e depois reorganizar no formato que você quiser. São três passos distintos:</p>
<ol>
<li><strong>Casar</strong> o trecho de texto (<em>match</em>)</li>
<li><strong>Marcar</strong> as informações desejadas (<em>group</em>)</li>
<li><strong>Formatar</strong> o texto (<em>replace</em>)</li>
</ol>
<p>Sempre faça os três passos sequencialmente, ou seja, não se preocupe com a formatação se você ainda não terminou a expressão que casa o texto. Tampouco saia colocando grupos desnecessários antes de concluir o primeiro passo. Assim, focando em uma tarefa por vez, sua vida com as expressões fica mais tranquila.</p>
<blockquote><p><strong>Detalhe nerd:</strong> Eu precisei dos dados da <a href="http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references">tabelona do vídeo</a> para fazer o código da função <a href="http://code.google.com/p/funcoeszz/source/browse/trunk/zz/zzunescape ">zzunescape</a>, que usa vários comandos s/// do sed para decodificar textos. Com a regex do vídeo pude gerar os comandos de uma só vez, usando o seguinte texto como substituto: <code>s/&amp;#0*$4;/$2/g;\ts/&amp;#x0*$3;/$2/g;\ts/&amp;$1;/$2/g;</code></p></blockquote>
<p>Este foi mais um vídeo da <strong>série SEM</strong>: sem ensaio, sem cortes, sem edição. Ah, e no final do vídeo a galera do twitter dá um alô :)</p>
<p>Expressões Regulares usadas no vídeo:</p>
<ul>
<li><code>^\w+\t.\tU\+0*\w+ \(\d+\)\t.*$</code></li>
<li><code>^(\w+)\t(.)\tU\+0*(\w+) \((\d+)\)\t.*$</code></li>
</ul>
<p>Tabelona da Wikipédia com os dados:</p>
<ul>
<li><a href="http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references">http://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references</a></li>
</ul>
<p>Ferramentas online usadas no vídeo:</p>
<ul>
<li><a href="http://regexpal.com">http://regexpal.com</a></li>
<li><a href="http://www.gethifi.com/tools/regex">http://www.gethifi.com/tools/regex</a></li>
<li><a href="http://www.nregex.com/nregex/default.aspx">http://www.nregex.com/nregex/default.aspx</a></li>
</ul>
<p>Saiba mais sobre Expressões Regulares:</p>
<ul>
<li><a href="http://aurelio.net/regex/">http://aurelio.net/er/</a></li>
</ul>
