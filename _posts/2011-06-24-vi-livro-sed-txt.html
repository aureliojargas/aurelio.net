---
author: aurelio
layout: twentyten-child
slug: vi-livro-sed-txt
title: $ vi livro-sed.txt
wp_categories:
- livro
wp_tags:
- conectiva
- expressoes-regulares
- funcoes-zz
- linux
- livro
- sed
- shell-script
- txt2tags
- vim
tags: [livro]
---


<p>Amiguinhos, MUITO OBRIGADO a todos que <a href="http://aurelio.net/proximo-livro/">mandaram sugestões</a>, eu finalmente me decidi e gostaria de avisar que <strong>ontem comecei a trabalhar no meu próximo livro</strong>, que será sobre o <a href="http://aurelio.net/sed/">comando sed</a>.</p>
<p>Eu sei que estou atrasado, eu sei que isso já deveria estar pronto há anos, e é deprimente perceber quanto tempo passou sem eu ter feito um livro novo. O <a href="http://www.shellscript.com.br/">Shell Script Profissional</a> é de abril de 2008! Mas é assim que funciona, durante estes anos não deu o tesão de escrever, e <strong>sem tesão não tem ação</strong>, é um loop infinito de escreve-apaga-escreve-apaga e nunca sai do lugar.</p>
<p>Felizmente a abstinência terminou e agora estou aqui, empolgadíssimo para ficar semanas (meses?) enclausurado, escrevendo um livrinho novo. A escolha do tema favoreceu muito a volta da inspiração, pois <strong>o sed é meu comando Unix preferido</strong> e posso ficar horas falando sem parar sobre ele :)</p>
<p>O sed é uma ferramenta que, <a href="http://aurelio.net/blog/2009/07/03/10anos-sed/">após uma década</a>, continuo usando quase que diariamente. Sempre tem algum texto pra limpar, pra reformatar, pra apagar algum pedaço e quando vejo <a href="http://aurelio.net/blog/2011/04/19/o-jeito-shell-script-de-resolver-problemas/">lá estou eu na tela preta digitando algum comando sed</a>. Esse é um filme mais repetido que <a href="http://www.youtube.com/watch?v=8WCXDsXDAcc">Curtindo a Vida Adoidado</a> na Sessão da Tarde :)</p>
<p>Uso o sed porque é útil e porque eu gosto. Ele é um bichinho estranho, que parece alienígena, mas esconde uma simplicidade bela, que só quem o conhece bem sabe admirar (tipo o <a href="http://aurelio.net/vim/">Vim</a>). E quando combinado com <a href="http://aurelio.net/regex/">expressões regulares</a>, mostra seu verdadeiro poder e faz mágicas.</p>
<blockquote><p>Já cheguei ao cúmulo de <a href="http://aurelio.net/sed/sokoban/sokoban.sed.html">fazer joguinho com sed</a>, mas <a href="https://github.com/aureliojargas/scripts/blob/master/html-scraps-to-wordpress-xml/recados2wordpress-meta.sh#L92">hoje sou mais moderado</a> :)</p></blockquote>
<p>O sed foi importante desde o ínicio de minha carreira: foi a primeira ferramenta do Unix que aprendi a dominar, quando ainda era estagiário. Ser o “guru do sed” dentro da empresa (Conectiva) significou muito para mim na época. Foi por causa do sed que tive que aprender expressões regulares, as <a href="http://funcoeszz.net">Funções ZZ</a> usam sed no lugar de outras ferramentas para garantir compatibilidade entre sistemas e o <a href="http://txt2tags.org/pt/">txt2tags</a> só existe porque um dia eu quis escrever um <a href="http://aurelio.net/sed/sed-HOWTO/">sed-HOWTO</a> em SGML. Mais detalhes sobre essas histórias no post <a href="http://aurelio.net/blog/2009/07/03/10anos-sed/">10 anos: Sed</a>.</p>
<pre>$ ls -1 zz* | wc -l             # Nas 125 funções ZZ…
     125
$ grep -w sed zz* | wc -l       # …o sed é usado 331 vezes!
     311</pre>
<p>Enfim, o sed estava lá desde o começo, participou das minhas criações mais importantes e continua firme e forte na minha rotina. Fazendo esse retrospecto, fica claro que é minha obrigação moral retribuir e fazer esta homenagem à ferramenta, fechando a trinca de livros: <strong>Shell + Sed + Expressões Regulares</strong>.</p>
<ul>
<li>Eu sei que sed é um assunto de nicho.</li>
<li>Eu sei que o público é restrito.</li>
<li>Eu sei que vai vender pouco.</li>
</ul>
<p>Mas tudo bem, quero fazer este livro de qualquer jeito. Não quero morrer com este conhecimento guardado na cabeça. <strong>Quero poder “mostrar a luz” do sed para outros nerds</strong>.</p>
<p>Já fiz <a href="http://aurelio.net/sed/">vários documentos</a> sobre o sed, inclusive <a href="http://aurelio.net/sed/livro/">um livro inacabado</a>, mas falta a obra definitiva: um texto completo, coeso, que parte do zero e <strong>ensina</strong> como funciona e como usar. E claro, o mais importante: o texto tem que ser leve e divertido, como uma conversa entre amigos. Detesto livros técnicos chatões.</p>
<p>O trabalho começou ontem, mas a escrita de verdade ainda leva um tempo. Esta fase inicial é de ambientação e planejamento. Estou definindo a forma do livro e sua didática: que assuntos vai ter, em que ordem, como será a narrativa, os exemplos, qual será o nível técnico, o público-alvo, essas coisas. <strong>Preciso primeiro “enxergar” o livro todo</strong>, do início ao fim, e quando essa massa imaginária de ideias toma forma e fica consistente, formando um ensinamento coeso de complexidade crescente, então estarei pronto para começar a escrever. Considero esta parte inicial a mais importante e difícil. Escrever o texto é a parte fácil.</p>
<p>Então, agora, mais do que em qualquer outra parte o processo, <strong>é a hora certa para você ajudar</strong>. Como a forma final ainda não foi definida, esta é a fase em que estou mais influenciável :) Por favor, use a caixa de comentários para dar sua opinião e suas ideias:</p>
<ul>
<li>O que você gostaria de aprender sobre o sed?</li>
<li>Quais suas dificuldades?</li>
<li>Quais tarefas você gostaria de usar o sed mas não sabe como?</li>
<li>O que te impede de aproveitar melhor o sed?</li>
<li>Como é seu uso atual do sed? Usa para quais tarefas?</li>
<li>Fora o s///, usa outros comandos?</li>
<li>Em qual sistema você usa(ria) o sed: Linux, Mac, Windows, Unix, outro?</li>
</ul>
