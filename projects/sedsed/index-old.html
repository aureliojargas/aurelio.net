<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META NAME="generator" CONTENT="http://txt2tags.org">
<TITLE>sedsed</TITLE>
</HEAD>
<BODY bgcolor="#aadd66" text="black">

<DIV CLASS="header" ID="header">
<H1>sedsed</H1>
<H2>by Aurelio Jargas</H2>
<H3><a href="http://aurelio.net/projects">http://aurelio.net/projects</a></H3>
</DIV>

<DIV CLASS="body" ID="body">
<HR NOSHADE SIZE=1>
<TABLE ALIGN="center">
<TR>
<TD>Quick links: <A HREF="#install">DOWNLOAD</A> | <A HREF="#changelog">CHANGELOG</A></TD>
</TR>
</TABLE>

<HR NOSHADE SIZE=1>
<P>
Page contents:
</P>
<DIV CLASS="toc" ID="toc">
  <UL>
  <LI><A HREF="#whatis">What is sedsed?</A>
  <LI><A HREF="#quicksample">Gimme a Quick Sample!</A>
  <LI><A HREF="#anothersample">I Want Another Sample!</A>
  <LI><A HREF="#htmlize">And What About That "HTMLize" Thing?</A>
  <LI><A HREF="#install">Hey, I liked it! How do I get it?</A>
  <LI><A HREF="#usage">Okay, got it. Now what?</A>
  <LI><A HREF="#tests">How Trustable the Debugger Is?</A>
  <LI><A HREF="#changelog">What's New On The Latest Version?</A>
  <LI><A HREF="#reference">Sedsed Reference Card</A>
  <LI><A HREF="#seealso">See Also</A>
  </UL>

</DIV>
<HR NOSHADE SIZE=1>
<P></P>
<A NAME="whatis"></A>
<H1>What is sedsed?</H1>
<DL>
<DT><B>One line Description</B></DT><DD>
<P></P>
  Sedsed debug/indent/tokenize/HTMLize SED scripts.
<P></P>
<DT><B>Cut-and-Paste friendly Description</B></DT><DD>
<P></P>
  Sedsed is a <A HREF="http://python.org">Python</A> script that masters
  <A HREF="http://sed.sf.net">SED</A> scripts. It generates SED debug files in
  SED, which lets you debug scripts with your own version of SED
  (Linux, DOS, etc.). It's also a script beautifier, doing indentation
  and spaces/comments formatting. It can also convert SED scripts to
  colorful HTML files. It's GPL.
<P></P>
<DT><B>Why Use it</B></DT><DD>
<P></P>
  With sedsed you can master ANY sed script. Seeing how the data flow
  between the commands, you can correct bugs or make improvements very
  fast. Sometimes to "wonder" what's on SED's buffers is the most
  difficult part of composing complex SED scripts. Sedsed show them
  for you!
</DL>

<HR NOSHADE SIZE=1>
<P></P>
<A NAME="quicksample"></A>
<H1>Gimme a Quick Sample!</H1>
<TABLE ALIGN="center">
<TR>
<TH>The Quick Sample</TH>
</TR>
<TR>
<TD><IMG ALIGN="middle" SRC="quicksample.png" BORDER="0" ALT=""></TD>
</TR>
</TABLE>

<UL>
<LI>The <CODE>-d</CODE> option turns debug ON
<LI>The <CODE>--hide=hold</CODE> options hides the HOLD SPACE buffer contents,
  because it is always empty on this example.
<LI>The <CODE>PATT:</CODE> lines on sedsed's output shows the PATTERN SPACE buffer
  contents
<LI>The <CODE>COMM:</CODE> yellow lines show the command which is being executed
<LI>The <CODE>user</CODE> and <CODE>otheruser</CODE> lines are the SED's normal output
<LI>The <CODE>$</CODE> sign at the end of <CODE>PATT:</CODE> lines represent the end of the
  buffer
</UL>

<HR NOSHADE SIZE=1>
<P></P>
<A NAME="anothersample"></A>
<H1>I Want Another Sample!</H1>
<TABLE ALIGN="center">
<TR>
<TH>The Indent Sample</TH>
</TR>
<TR>
<TD><IMG ALIGN="middle" SRC="indent.png" BORDER="0" ALT=""></TD>
</TR>
</TABLE>

<UL>
<LI>The <CODE>-f</CODE> option reads the SED script from a file (just like in SED)
<LI>The <CODE>--indent</CODE> option reformats complicated SED scripts into
  beautiful human-friendly scripts
</UL>

<TABLE ALIGN="center">
<TR>
<TH>The Debug Sample</TH>
</TR>
<TR>
<TD><IMG ALIGN="middle" SRC="debug.png" BORDER="0" ALT=""></TD>
</TR>
</TABLE>

<UL>
<LI>The <CODE>-d</CODE> option turns debug ON
<LI>The <CODE>HOLD:</CODE> lines shows the HOLD SPACE buffer contents
<LI>See how the PATTERN and HOLD SPACE buffers change between the SED
  commands
<LI>See the buffers swap with the <CODE>x</CODE> command
<LI>See the <CODE>\n</CODE> that is inserted in PATTERN SPACE between the two lines
  joined by the <CODE>G</CODE> command
<LI><B>See SED under the curtains!</B>
</UL>

<HR NOSHADE SIZE=1>
<P></P>
<A NAME="htmlize"></A>
<H1>And What About That "HTMLize" Thing?</H1>
<P>
Besides indent and debug, sedsed also has the ability to convert your
SED scripts to nice HTML pages, with the syntax highlighted just as in
Vim Editor, with nice colors! To HTMLize the previous
<CODE>email-linker.sed</CODE> script, we do:
</P>
<PRE>
prompt$ sedsed --htmlize -f email-linker.sed &gt; email-linker.sed.html
</PRE>
<P></P>
<UL>
<LI><A HREF="email-linker.sed.html">See the resulting "email-linker.sed.html" file</A>
<P></P>
<LI><A HREF="http://sed.sourceforge.net/local/scripts">See examples of more than 60 sed scripts HTMLized</A>
</UL>

<HR NOSHADE SIZE=1>
<P></P>
<A NAME="install"></A>
<H1>Hey, I liked it! How do I get it?</H1>
<P>
Just download this file: <A HREF="sedsed-1.0">sedsed-1.0</A>
</P>
<UL>
<LI>Sedsed is just a single Python script.
<LI>It uses only the default Python modules.
<LI>It works in all Python versions, from 1.5.2 to the latest.
<LI>No libraries or external files are required.
<LI>No compilation needed.
<LI><B>Just download and run</B>.
</UL>

<P>
<I>Note 1</I>: The Python interpreter is installed by default on Linux
and MacOS X systems. If you are on Windows or other systems, check if
you have it installed. If not, you can download it from
<A HREF="http://www.python.org/download/">www.python.org/download/</A>, it is quick and safe.
</P>
<HR NOSHADE SIZE=1>
<P></P>
<A NAME="usage"></A>
<H1>Okay, got it. Now what?</H1>
<P>
See the friendly help screen with all the available options and try it
on your own SED scripts!
</P>
<PRE>
prompt$ sedsed --help

usage: sedsed OPTION [-e sedscript] [-f sedscriptfile] [inputfile]

OPTIONS:

     -f, --file          add file contents to the commands to be parsed
     -e, --expression    add the script to the commands to be parsed
     -n, --quiet         suppress automatic printing of pattern space
         --silent        alias to --quiet

     -d, --debug         debug the sed script
         --hide          hide some debug info (options: PATT,HOLD,COMM)
         --color         shows debug output in colors (default: ON)
         --nocolor       no colors on debug output
         --dump-debug    dumps to screen the debugged sed script

         --emu           emulates GNU sed (INCOMPLETE)
         --emudebug      emulates GNU sed debugging the sed script (INCOMPLETE)

     -i, --indent        script beautifier, prints indented and
                         one-command-per-line output do STDOUT
         --prefix        indent prefix string (default: 4 spaces)

     -t, --tokenize      script tokenizer, prints extensive
                         command by command information
     -H, --htmlize       converts sed script to a colorful HTML page
</PRE>
<P></P>
<HR NOSHADE SIZE=1>
<P></P>
<A NAME="tests"></A>
<H1>How Trustable the Debugger Is?</H1>
<P>
Sedsed was tested successfuly against all the 5 stars (<CODE>*****</CODE>) extreme
SED scripts from the
<A HREF="http://sed.sf.net/grabbag/scripts">Bonzini's excellent grab-bag site</A>.
So all the sed commands and structures wrote on these scripts, which
are <B>EXTREME</B>, are correctly parsed.
</P>
<P>
If you want to try at home, download them from the grab-bag's site and
execute this way:
</P>
<PRE>
echo -e "one\ntwo\nthree\nfour" | sedsed -d -f sodelnum.sed

echo -e "one\ntwo\nthree\nfour" | sedsed -d -f sort.sed

echo a{b{c{bla}}} | sedsed -d -f tex2xml.sed

echo "aa='abc" | sedsed -d -f config.sed

(date +'%w %d' ; date +'%-m %Y') | sedsed -d -f cal.sed
</PRE>
<P></P>
<P>
And now, calm down, close your eyes, deep breath: <B>DC.SED</B>!!!
</P>
<PRE>
echo 4 4 + p | sedsed -d -f dc.sed
</PRE>
<P></P>
<P>
Don't believe? <A HREF="dc.png">See it for yourself!</A> <A HREF="dc.png"><IMG ALIGN="middle" SRC="dc-mini.png" BORDER="0" ALT=""></A>.
</P>
<HR NOSHADE SIZE=1>
<P></P>
<A NAME="changelog"></A>
<H1>What's New On The Latest Version?</H1>
<P>
<B>Version 1.0, released on 2004-12-09</B>
</P>
<P>
<I>From 0.8 to 1.0?</I>
</P>
	<BLOCKQUOTE>
	This release should be 0.9 because the last one was 0.8, from
	one year ago. But there are so many nice changes, including
	performance gain and portability, that the program deserves a
	1.0 version. One year is so much time, but the wait resulted
	in a quality jump in sedsed.
	</BLOCKQUOTE>
<P></P>
<P>
<I>Debug Faster and Diet!</I>
</P>
	<BLOCKQUOTE>
	The debug action was the most changed. Now sedsed generates
	"diet" debug scripts, reducing around 40% of the file size*
	compared to the previous version. With less commands on the
	debug file and an important simplification on the debug
	commands, the debugged sed script now executes faster.
	</BLOCKQUOTE>
<P></P>
	<BLOCKQUOTE>
	* In scripts that use the "t" command.
	</BLOCKQUOTE>
<P></P>
<P>
<I>Works in Your Old Buggy SED</I>
</P>
	<BLOCKQUOTE>
	Other changes on the debug action aimed portability. The
	syntax of the debug commands now is very conservative. If the
	previous version of sedsed did not work in your old UNIX sed,
	try this one!
	</BLOCKQUOTE>
<P></P>
<P>
<I>The full list of changes:</I>
</P>
  <UL>
  <LI>Now the SED program location on the system is configurable inside
    the script (if needed).
  <P></P>
  <LI>The default indent prefix for --indent has changed from two to
    four spaces.
  <P></P>
  <LI>Huge changes to make the debug file portable, so now it works even
    in old UNIX versions of sed
    (thanks Gudermez for requesting and Laurent Voguel for his
    sedcheck tool).
  <P></P>
  <LI>The debug command to show the current sed command was simplified
    from "s///;P;s///" to a single "i" command, reducing the debug
    file size and increasing execution speed
    (thanks Thobias Salazar Trevisan for the idea).
  <P></P>
  <LI>Added --dump-debug option to inspect the generated debug file
    (implies --nocolor and --debug).
  <P></P>
  <LI>Generated debug file more readable, with indented debug commands.
  <P></P>
  <LI>Bugfix: Now parses a, c, i commands with ";" on the text
    (thanks Leo Mulders for reporting).
  </UL>

<P>
<A HREF="#install">Download it right now!</A>
</P>
<P>
Older versions history:
</P>
<DL>
<DT>v<B>0.8</B> 2003-11-15</DT><DD>
  <UL>
  <LI>Huge code cleanup and rearrange, now it is readable
  <LI>Added -n option and its aliases --quiet/--silent (thanks Eric Pement)
  <LI>Added -H option as an alias to --htmlize
  <LI>Now accepts sed script on STDIN (like sed): <CODE>echo p | sed -f - file</CODE>
  <LI>Changed internal line separator string to ASCII chars (thanks
    Thobias Salazar)
  <LI>Bugfix: Script previous checking was broken (thanks Eric Pement)
  </UL>
<DT>v<B>0.7</B> 2003-01-21</DT><DD>
  <UL>
  <LI>Added --color option (for Windows users)
  <LI>Bugfix: Debug file line break on Windows (thanks Eric Pement)
  </UL>
<DT>v<B>0.6</B> 2002-11-19</DT><DD>
  <UL>
  <LI>Now sedsed works on Windows/DOS
  <LI>New stand-alone .EXE version for Windows users (by py2exe)
  <LI>Option -v REALLY changed to -V (lamer...)
  </UL>
<DT>v<B>0.5</B> 2002-05-08</DT><DD>
  <UL>
  <LI>The sedsed program is now compatible with old Python v1.5
  <LI>The sed debug file is now temporary (is removed)
  <LI>Option -v changed to -V
  <LI>Added "i" flag for "s///" command
  <LI>Data and parameters are passed as in GNU sed:
     <UL>
     <LI>Input text: pipeline (STDIN) and/or file(s)
     <LI>Sed script: -f &lt;file&gt; and/or -e &lt;script&gt; options
     </UL>
  </UL>
<DT>v<B>0.4</B> 2002-03-27</DT><DD>
  <UL>
  <LI>Added --htmlize option
  </UL>
<DT>v<B>0.3</B> 2002-02-22</DT><DD>
  <UL>
  <LI>Added --version option
  <LI>Added documentation
  <LI>Added i386 binary version
  </UL>
<DT>v<B>0.2</B> 2001-12-22</DT><DD>
  <UL>
  <LI>Status of "t" command preserved correctly (thanks Paolo Bonzini)
  </UL>
<DT>v<B>0.1</B> 2001-12-21</DT><DD>
  <UL>
  <LI>First release on sed-users list
  </UL>
</DL>

<HR NOSHADE SIZE=1>
<P></P>
<A NAME="reference"></A>
<H1>Sedsed Reference Card</H1>
<TABLE ALIGN="center" BORDER="1">
<TR>
<TH></TH>
<TH>Sedsed Output</TH>
</TR>
<TR>
<TD ALIGN="center"><CODE>PATT:</CODE></TD>
<TD>Contents of the PATTERN SPACE buffer</TD>
</TR>
<TR>
<TD ALIGN="center"><CODE>HOLD:</CODE></TD>
<TD>Contents of the HOLD SPACE buffer</TD>
</TR>
<TR>
<TD ALIGN="center"><CODE>COMM:</CODE></TD>
<TD>The SED command being executed</TD>
</TR>
<TR>
<TD ALIGN="center"><CODE>$</CODE></TD>
<TD>Terminates the PATT and HOLD contents</TD>
</TR>
<TR>
<TD ALIGN="center"><CODE>...</CODE></TD>
<TD>Lines that don't begin with any identifiers are STDOUT</TD>
</TR>
<TR>
<TD></TD>
</TR>
<TR>
<TH></TH>
<TH>Action Options</TH>
</TR>
<TR>
<TD><CODE>--debug</CODE></TD>
<TD>DEBUG the sed script</TD>
</TR>
<TR>
<TD><CODE>--indent</CODE></TD>
<TD>Script beautifier, show indented source</TD>
</TR>
<TR>
<TD><CODE>--tokenize</CODE></TD>
<TD>Script tokenizer, show info about each command</TD>
</TR>
<TR>
<TD><CODE>--htmlize</CODE></TD>
<TD>Converts sed script to a colorful HTML page</TD>
</TR>
<TR>
<TD></TD>
</TR>
<TR>
<TH></TH>
<TH>Tips</TH>
</TR>
<TR>
<TD ALIGN="center"><CODE>!</CODE></TD>
<TD>less -r is your friend to page the colorful output of -d</TD>
</TR>
<TR>
<TD ALIGN="center"><CODE>!</CODE></TD>
<TD>Use the <CODE>--hide</CODE> option to a cleaner debug output</TD>
</TR>
<TR>
<TD ALIGN="center"><CODE>!</CODE></TD>
<TD><CODE>--htmlize</CODE> send results to STDOUT, so redirect it</TD>
</TR>
</TABLE>

<HR NOSHADE SIZE=1>
<P></P>
<A NAME="seealso"></A>
<H1>See Also</H1>
<UL>
<LI>When debugging a SED script, sedsed shows the buffers contents
  between all commands, having no support for user-defined spypoints.
  If you want this feature, you should try
  "<A HREF="http://www.student.northpark.edu/pemente/sed/sd.ksh.txt">sd</A>", the
  spypoint-aware SED debugger written in shell script by Brian Hiles.
<P></P>
<LI>Want to write portable scripts that will work on a wide range of SED
  flavors out there? Use the Laurent Voguel's
  "<A HREF="http://lvogel.free.fr/sed/sedcheck.sed">sedcheck</A>" tool (it is a
  SED script!)
<P></P>
<LI>Want to learn more about SED? Visit the
  "<A HREF="http://sed.sourceforge.net">SED Homepage</A>", that has lots of
  documents and sample scripts.
</UL>

<HR NOSHADE SIZE=1>
<P>
Other Aurelio's Software at <A HREF="http://aurelio.net/projects">http://aurelio.net/projects</A>
</P>
<HR NOSHADE SIZE=1>
<table border="0" width="100%"><tr valign="top"><td valign="top">
<a href="http://sourceforge.net/donate/index.php?user_id=1345338">
<img src="http://sourceforge.net/images/project-support.jpg"
border="0"></a>
</td><td align="right">
<a href="http://sourceforge.net"><img
   src="http://sourceforge.net/sflogo.php?group_id=42825&type=1"
   width="88" height="31" border="0" alt="(sourceforge)"></a>
<img src="madeinbr.png" alt="Made in Brazil">
<a href="http://txt2tags.org"><img
   border="0" src="t2tpowered.png" alt="Powered by txt2tags"></a>
<br>(<a href="index.t2t">see source</a>)
</td>
</tr></table>
</DIV>

<!-- html code generated by txt2tags 2.4 (http://txt2tags.org) -->
<!-- cmdline: txt2tags -t html /a/pessoal/sourceforge.net/sedsed/web/index.t2t -->
</BODY></HTML>
