---
title: "Grupo: o pop (...)"
prev: ou.html
next: retrovisor.html
---

<p>Assim como artistas famosos e personalidades que conseguem arrastar multidões, o grupo tem o dom de juntar vários tipos de sujeitos em um mesmo local. Dentro de um grupo podemos ter um ou mais caracteres, metacaracteres e inclusive outros grupos! Como em uma expressão matemática, os parênteses definem um grupo, e seu conteúdo pode ser visto como um bloco na expressão.</p>

<p>Todos os metacaracteres quantificadores que vimos anteriormente, podem ter seu poder ampliado pelo grupo, pois ele lhes dá mais abrangência. E o ou, pelo contrário, tem sua abrangência limitada pelo grupo, e pode parecer estranho, mas é essa limitação que lhe dá mais poder.</p>

<p>Em um exemplo simples, <b><code>(ai)+</code></b> agrupa a palavra &quot;ai&quot; e esse grupo está quantificado pelo mais. Isso quer dizer que casamos várias repetições da palavra, como <u>ai</u>, <u>aiai</u>, <u>aiaiai</u>, ... E assim podemos agrupar tudo o que quisermos, literais e metacaracteres, e quantificá-los:</p>

<pre>
(ha!)+                  ha!, ha!ha!, ha!ha!ha!, ...
(\.[0-9]){3}            .0.6.2, .2.8.9, .6.6.6, ...
(www\.)?zz\.com         www.zz.com, zz.com
</pre>

<p>E em especial nosso amigo ou ganha limites e seu poder cresce:</p>

<pre>
boa-(tarde|noite)       boa-tarde, boa-noite
(#|n\.|núm) 6           # 6, n. 6, núm 6
(in|con)?certo          incerto, concerto, certo
</pre>

<p>Note que o grupo não altera o sentido da ER, apenas serve como marcador. Podemos criar subgrupos também, então imagine que você esteja procurando o nome de um supermercado em uma listagem e não sabe se este é um mercado, supermercado ou um hipermercado.</p>

<pre>
(super|hiper)mercado
</pre>

<p>Consegue casar as duas últimas possibilidades, mas note que nas alternativas <i>super</i> e <i>hiper</i> temos um trecho <u>per</u> comum aos dois, então podíamos &quot;alternativizar&quot; apenas as diferenças <i>su</i> e <i>hi</i>:</p>

<pre>
(su|hi)permercado
</pre>

<p>Precisamos também casar apenas o <i>mercado</i> sem os aumentativos, então temos de agrupá-los e torná-los opcionais:</p>

<pre>
((su|hi)per)?mercado
</pre>

<p>Pronto! Temos a ER que buscávamos e ainda esbanjamos habilidade utilizando um grupo dentro do outro.</p>

<blockquote>
  <i>Ei! E se tivesse minimercado também?</i>
</blockquote>

<pre>
(mini|(su|hi)per)?mercado
</pre>

<p>E assim vai... Acho que já deu para notar quão poderosas e complexas podem ficar nossas ERs ao utilizarmos grupos, não? Mas não acaba por aqui! Acompanhe o retrovisor na seqüência.</p>

<blockquote>
  <i>Espera! E se eu quiser casar um par de parênteses literais?</i>
</blockquote>

<p>Ah! Lembra-se do escape criptonita? Basta tirar o poder dos parênteses, escapando-os. Veja um exemplo na ER para procurar declarações de função em códigos de programas como <i>Minha_Funcao()</i></p>

<pre>
[A-Za-z0-9_]+\(\)
</pre>

<p>Ou ainda, caso acentuação seja permitida em nomes de função (lembre-se das classes POSIX!):</p>

<pre>
[[:alnum:]_]+\(\)
</pre>

<p><b>Resumão</b></p>

<ul>
  <li>Grupos servem para agrupar.</li>
  <li>Grupos são muito poderosos.</li>
  <li>Grupos podem conter grupos.</li>
  <li>Grupos são quantificáveis.</li>
</ul>
