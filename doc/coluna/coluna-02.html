---
layout: coluna
date: 2000-10-15
title: "coluna do aurelio 02: ICQ"
---

<p>olás. após a introdução rápida da edição passada, vamos passar ao campo prático, com dicas de execução de uma tarefa bem comum de nossos dias conectados: conversar pelo ICQ.</p>

<p>bem, como o protocolo do ICQ é algo relativamente simples de ser implementado, vários clones apareceram para linux. dos que conheci, destaco 3 clientes de ICQ que servem para todos os gostos: <code>mICQ</code>, orientado a linha, simples e poderoso, <code>zicq</code>, que hoje se chama <code>krolden ICQ</code>, é o <code>micq</code> em tela cheia, mas com funcionalidades reduzidas e o <code>centerICQ</code>, que usa o conceito de menus. todos estes programas podem ser encontrados em <a href="http://freshmeat.net/appindex/Console/Communication.html">http://freshmeat.net/appindex/Console/Communication.html</a></p>

<p>o <code>mICQ</code> é aconselhado para sessões remotas com conexão lenta, como em contas linux gratuitas que existem na internet. é bem simples, as mensagens vão pipocando e rolando na tela, bem como os avisos de pessoas que estão on line. a adição de pessoas novas em sua lista e configurações gerais como retirar a cor ou redefinir os comandos são colocadas no arquivo <code>~/.micqrc</code>. sua principal vantagem é ser simples e funcionar em qualquer tipo de terminal.</p>

<p>o <code>zicq</code> é basicamente uma carinha mais amigável do <code>mICQ</code>. o código foi reescrito utilizando-se a biblioteca <code>ncurses</code>. esta biblioteca é para programas de modo texto utilizarem tela cheia, bem como trabalhar com janelas e áreas distintas numa mesma tela. a vantagem é que você pode ver sua lista de contatos, com os estados atuais de cada um, além de haverem áreas específicas para ler e para escrever mensagens. amigos podem ser adicionados à sua lista com o comando <code>add</code>, mas outras configurações são feitas no arquivo <code>~/.zicqrc</code>, inclusive o arquivo de som, para você ouvir aquele "á-ou" quando chega uma mensagem nova. este é o que eu uso diariamente e fora umas quebras eventuais na conexão, funciona que é uma beleza.</p>

<p>para os amantes de programas de menu, como <code>minicom</code>, <code>mc</code> e <code>emacs</code>, há o <code>centerICQ</code>, que é bem mais organizado e intuitivo de usar que os outros icqs de modo texto, pois além das áreas da tela separadas, seus comandos são divididos em menus, acessados pelas teclas de função do teclado. o lado negativo dessa "janelização" de todas as funções é que se demora mais para mandar uma mensagem ou obter algum informação, pois ao invés de digitar um comando direto, você tem que obrigatoriamente seguir menus. sua configuração é separada em arquivos no diretório <code>~/.center</code> e ele já vem com os arquivos de som para mensagens e notificações.</p>

<p>estes clientes de icq não possuem todas as funcionalidades do icq original, como chat, envio de arquivos e integração com o navegador, mas na característica principal de enviar e receber mensagens rapidamente, não há do que reclamar.</p>

<p>voltando ao <code>zicq</code> e seu problema de queda de conexão, usamos um artifício do shell para que ele sempre se reconecte quando caia, o "laço". digite na linha de comando ou coloque no seu <code>~/.bashrc</code> a linha:</p>

<pre>
alias icq="rm -f /tmp/zicq; while [ ! -f /tmp/zicq ]; do zicq; done"
</pre>

<p>aqui temos vários conceitos do <code>bash</code>, o primeiro é o <code>alias</code>, onde você define um apelido para um comando. seu sistema já tem alguns, digite <code>alias</code> para vê-los. então sempre que você digitar <code>icq</code>, o bash executará o comando entre aspas duplas. o comando em si apaga &lt;<code>rm -f</code>&gt; um arquivo de trava &lt;<code>/tmp/zicq</code>&gt; e enquanto &lt;<code>while</code>&gt; este arquivo NÃO existir &lt;<code>! -f</code>&gt;, o zicq será executado. agora nosso <code>zicq</code> é quase eterno. para derrubá-lo, temos que criar &lt;<code>touch</code>&gt; o arquivo de trava e matar &lt;<code>killall</code>&gt; o zicq ativo.</p>

<pre>
alias icqk="touch /tmp/zicq ; killall zicq"
</pre>

<p>este foi um pontapé inicial para o uso do icq no modo texto, escolha seu preferido e não fique mais incomunicável. sugestões para temas das próximas colunas são bem-vindas.</p>
