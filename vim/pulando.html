---
date: 2003-10-10
title: Pulando com o Vim
---

<!--
  2003-10-09 18:30 1h
  2003-10-09 21:00 2h
  2003-10-10 08:15 2h
-->

<blockquote>Ganhe tempo usando comandos precisos para movimentar o cursor e editar textos, dispensando o uso das setas do teclado, Delete e Backspace.</blockquote>

<p>Editar textos é a tarefa mais comum de qualquer usuário de computador. Seja para responder um e-mail, criar um documento ou codificar um programa, lá estará o usuário digitando texto para a máquina. Embora faça isso diariamente, a grande maioria não faz um uso otimizado do seu editor de textos. Muito tempo é perdido em tarefas repetitivas e vícios de uso.</p>

<p>Este artigo é um guia para acabar com o sofrimento de pessoas viciadas em segurar teclas. Seja para movimentar o cursor ou para apagar grandes quantidades de texto, lá está o usuário estático segurando uma setinha ou a tecla Del por alguns preciosos segundos. Ao longo do dia esses segundos podem se tornar minutos, e ao longo dos meses, horas.</p>

<p>Evitando este desperdício de tempo, entra em cena o melhor editor de textos de todos os tempos: o Vim. Concebido numa época quando conexões remotas eram muito lentas, editar um texto tinha que envolver apertar o menor número de teclas possível. Hoje as conexões são rápidas, mas o conceito de "menos teclas, melhor" ajuda a poupar tempo na rotina diária de editar textos.</p>

<h2>As setinhas são para perdedores</h2>

<p>Quanto mais você usa as setas, mais tempo perde. Basicamente se usam as setas para movimentar o cursor no arquivo. Para ir ao meio da frase, o usuário fica segurando a seta até chegar no ponto desejado. Para ir ao início do parágrafo anterior, seta pra cima, depois seta para a esquerda. O Vim provê vários comandos que servem para dar "pulos" a outros pontos do arquivo, evitando gastar a ponta do seu dedo segurando a seta.</p>

<p>Seja na alteração de um texto já existente ou na composição de um novo, a edição nunca é linear. Editar um texto consiste em visitar diversas partes do documento, alterando e inserindo letras e palavras. Saber como chegar rapidamente a qualquer ponto do documento, apertando o menor número de teclas possível, é ser ágil e economiza tempo.</p>

<p>Os pulos mais conhecidos e que já possuem tecla especial no teclado são <code>Home</code> e <code>End</code>, que vão ao início e fim da linha e <code>PgUp</code>/<code>PgDn</code> que pulam páginas. O Vim possui comandos para pular a outras partes do arquivo, são eles:</p>

<table class="tableborder">
  <tr>
    <th>Comando</th>
    <th>Ação</th>
  </tr>
  <tr>
    <td class="center">gg</td>
    <td>Pula para a primeira linha</td>
  </tr>
  <tr>
    <td class="center">G</td>
    <td>Pula para a última linha</td>
  </tr>
  <tr>
    <td class="center">:44</td>
    <td>Pula para a linha número 44</td>
  </tr>
  <tr>
    <td class="center">{</td>
    <td>Pula para o parágrafo anterior</td>
  </tr>
  <tr>
    <td class="center">}</td>
    <td>Pula para o próximo parágrafo</td>
  </tr>
  <tr>
    <td class="center">(</td>
    <td>Pula para a frase anterior</td>
  </tr>
  <tr>
    <td class="center">)</td>
    <td>Pula para a próxima frase</td>
  </tr>
  <tr>
    <td class="center">0</td>
    <td>Pula para o início da linha atual</td>
  </tr>
  <tr>
    <td class="center">$</td>
    <td>Pula para o fim da linha atual</td>
  </tr>
  <tr>
    <td class="center">``</td>
    <td>Desfaz o pulo, volta</td>
  </tr>
</table>

<p>Estes são os pulos básicos que todo usuário do Vim deve saber. Com eles é possível "navegar" no documento de maneira rápida, independente de qual o seu conteúdo. Lembre-se que eles são válidos fora do modo de inserção (é preciso apertar <code>&lt;Esc&gt;</code> antes).</p>

<p>Se, por exemplo, lá no meio do texto você precisar voltar à primeira linha para checar uma frase, faz <code>&lt;Esc&gt;gg</code> e depois `` para voltar a editar o texto na posição original.</p>

<p>Assim como outros comandos do Vim, os pulos também podem ser quantificados. Basta adicionar um número na sua frente. Assim, o comando <code>5{</code> volta cinco parágrafos.</p>

<p>Além destes pulos para posições fixas, também é possível pular para uma posição qualquer onde esteja o texto desejado. Basta utilizar o o comando <code>/</code>, que procura adiante por um texto. Para ir até a próxima palavra "Linux", digite <code>/Linux&lt;ENTER&gt;</code>. Com o comando <code>n</code> (de Next), pula-se para as próximas ocorrências da mesma palavra. O <code>N</code> (maiúsculo) volta para a anterior.</p>

<p>Um atalho útil é o comando <code>*</code>, que procura a próxima ocorrência da palavra atual do cursor. Similar ao exemplo de pesquisa anterior, bastaria posicionar o cursor sob a palavra "Linux" e apertar o asterisco. Para uma busca mais confortável, basta colocar no <code>~/.vimrc</code> a seguinte linha mágica <code>set ic is hls scs</code>.</p>

<p>Um outro pulo rápido e muito útil é o comando <code>w</code> (de Word), que pula para o início da próxima palavra. Apertar a tecla "w" três vezes faz o cursor avançar três palavras, e o comando <code>7w</code> avançará sete palavras. O comando similar é o <code>b</code> (de Back), que pula para palavras anteriores.</p>

<p>E por último, o pulo mais avançado é o de procurar um caractere na mesma linha, com o comando <code>f</code> (de Find). Por exemplo, para ir para a próxima vírgula, o comando é <code>f,</code> e para a vírgula anterior (à esquerda) é <code>F,</code>. A diferença é o comando em maiúscula ou minúscula. O comando <code>3fa</code> pulará para a terceira letra "a" após o cursor, na mesma linha.</p>

<p>Para ilustrar estes pulos, uma figurinha. Com o cursor sempre sob a letra <code>N</code>, são citados alguns comandos e as setas indicam para onde o cursor pulará.</p>

<p class="figure">
  <img src="pulando.png">
</p>

<p>Pulando rapidamente para a posição certa, o próximo passo é fazer a alteração necessária no texto. Nessa hora o Vim também é imbatível.</p>

<h2>A tecla Del é para perdedores</h2>

<p>Ficar segurando a tecla Del até apagar o trecho desejado é demorado e impreciso, freqüentemente apagando mais do que o desejado. O Vim provê meios de apagar grandes quantidades de texto apertando somente duas ou três teclas.</p>

<p>O comando <code>x</code> apaga caracteres à direita do cursor. Se for preciso apagar 20 caracteres, em vez de ficar segurando a tecla "Del" alguns segundos, basta digitar o comando <code>20x</code>.</p>

<p>O comando <code>d</code> (de Delete) apaga caracteres ou linhas, dependendo de como é utilizado. Apertando <code>dd</code> apaga-se a linha toda. Já <code>5dd</code> apaga as próximas cinco linhas. O comando <code>D</code> maiúsculo, apaga do cursor até o final da linha.</p>

<p>Mas a brincadeira de apagar começa a ficar divertida ao combinar o comando delete com os pulos já vistos. Basta usar a forma <code>d&lt;pulo&gt;</code>.</p>

<table class="tableborder">
  <tr>
    <th>Comando</th>
    <th>Ação</th>
  </tr>
  <tr>
    <td class="center">dgg</td>
    <td>Apaga até o início do arquivo</td>
  </tr>
  <tr>
    <td class="center">d0</td>
    <td>Apaga até o início da linha atual</td>
  </tr>
  <tr>
    <td class="center">dw</td>
    <td>Apaga a palavra</td>
  </tr>
  <tr>
    <td class="center">d4b</td>
    <td>Apaga as quatro palavras anteriores</td>
  </tr>
  <tr>
    <td class="center">df.</td>
    <td>Apaga até o próximo ponto</td>
  </tr>
  <tr>
    <td class="center">d)</td>
    <td>Apaga até o fim da frase</td>
  </tr>
</table>

<p>O comando apagará todo o texto desde a posição do cursor até o destino do pulo. Acostume a sempre "falar" o comando, para ficar mais fácil memorizá-lo. Por exemplo, o <code>df.</code> é "Delete Find Ponto", ou seja "Apague até Encontrar um Ponto".</p>

<p>O comando <code>d</code> permanece no modo de comandos após apagar o texto. Caso o usuário queira acrescentar algum texto no lugar do antigo, primeiro será necessário entrar no modo de inserção (comando <code>i</code>). Para economizar esse passo, existe o comando <code>c</code> (de Change), que é idêntico do <code>d</code>, com a diferença de retornar automaticamente ao modo de inserção.</p>

<p>Uma maneira rápida de trocar a palavra "UNIX" por "Linux" é posicionar o cursor na letra "U" e digitar <code>cwLinux</code>. Este comando se lê "Change Word Linux".</p>

<p>Às vezes, não são grandes quantidades, mas alterações de um caractere que precisam ser feitas. Até nessa hora o Vim ajuda. Use o comando <code>r</code> (de Replace) para trocar um caractere por outro, sem precisar entrar no modo de inserção. Por exemplo, na palavra "Lenux", posicione o cursor na letra "e" e aperte <code>ri</code>.</p>

<p>Cada texto removido com os comandos <code>x</code>, <code>d</code>, <code>c</code> e <code>r</code>, é automaticamente copiado, e pode ser colado em outra parte do arquivo com o comando <code>p</code> (de Paste). Então a operação de mover texto no arquivo envolve apagá-lo, pular para a posição nova e colar.</p>

<p>Outro comando muito frequente de utilizar é o <code>xp</code>, que apaga um caractere e o cola uma posição à direita. Para corrigir a palavra "Liunx", basta posicionar o cursor na letra "u" e apertar <code>xp</code>. Parece bobo, mas é muito comum encontrar erros desse tipo em textos, onde duas letras estão com a posição trocada.</p>

<p>Para finalizar, uma tarefa corriqueira que é apagar trechos grandes de um arquivo, como "todas as linhas daqui até o início do arquivo" ou "todas daqui até o fim". Um verdadeiro pesadelo para os seguradores de teclas; já imaginou ficar segurando o Del ou o BackSpace durante minutos num arquivo grande?</p>

<p>Em alguns editores, pode-se usar o mouse para selecionar texto. Com um pouco de paciência e persistência, em alguns segundos consegue-se selecionar todo o texto e apertar Del. Outros mais espertos podem usar o teclado segurando o Shift para selecionar e apertar Ctrl+End para espichar a seleção até o fim do arquivo, e finalmente apertar a tecla Del. No Vim, basta um simples <code>dG</code> para apagar até o fim e um <code>dgg</code> para apagar até o começo. Mais prático impossível.</p>

<p>Todos estes comandos poupam tempo e têm precisão, mas seu uso deve ser forçado, pois é muito difícil abandonar o vício de segurar teclas. Depois de memorizar estes comandos e se disciplinar a usá-los, você não terá mais paciência de usar "outros editores" que lhe fazem perder segundos preciosos.</p>

<blockquote>Artigo originalmente publicado na Revista do Linux edição 49 (a última), de janeiro de 2004.</blockquote>

<blockquote><b>Atualização em 2018-11-17:</b> Depois que você dominar todos estes pulos, passe para o próximo nível e aprenda a pular usando <a href="https://blog.carbonfive.com/2011/10/17/vim-text-objects-the-definitive-guide/">Text Objects</a>.</blockquote>
