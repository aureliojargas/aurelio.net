---
title: Sed - Portal brasileiro do Stream EDitor do UNIX/Linux
hide_comments: true
hide_tags: true
article_footer_after: false
---

<p class="figure">
  <img src="/img/icon/128/sed.png">
</p>

<pre>
#!/bin/sed -fn

/^Bem-vind[oa]/!{

  /E/s/ta é a /minha pá/g;/i/n;/a/ s/o//;b re; /o Se/d

  sed primeiro, dep;/oi/s o resto ;P

}
$!N
</pre>

<table class="tableborder">
  <tr>
    <td>
      <p>Destaques:</p>
      <ul>
        <li><a href="/sed/alfabeto.html">Alfabeto do sed</a></li>
        <li><a href="/sed/sed-HOWTO/">Sed HOWTO</a></li>
        <li><a href="/sed/livro/">Dominando o Sed</a></li>
        <li><a href="/sed/1liners-ptBR.txt">Sed 1liners</a></li>
        <li><a href="http://thobias.org/doc/sosed.html">Só Sed</a></li>
        <li><a href="/projects/sedsokoban/">SedSokoban</a></li>
      </ul>
    </td>
    <td>
      <p>Veja também:</p>
      <uL>
        <li><a href="/regex/">Expressões Regulares</a></li>
        <li><a href="/shell/">Shell Script</a></li>
        <li><a href="/vim/">Vim</a></li>
        <li><a href="/cygwin/">Cygwin</a></li>
        <li><a href="http://codare.net">CODARE</a></li>
        <li><a href="/doc/nerd.html">docz nerdz</a></li>
      </ul>
    </td>
  </tr>
</table>

<p>Seja bem-vindo(a) ao portal do Sed. Ele é um editor de textos? É uma linguagem de programação? É um comando do UNIX? É um filtro? Na verdade, é isso tudo e mais um pouco :)</p>

<p>Acompanhe aqui vários artigos sobre o Sed, escritos em <strong>português</strong>.</p>

<p>Lá no meu blog eu contei <a href="/blog/2009/07/03/10anos-sed/">a minha história com o Sed</a>, que começou em 1997 e mudou minha vida, culminando com a escrita de <a href="http://www.piazinho.com.br">um livro sobre Expressões Regulares</a>.</p>

<nav>
  <ul>
    <li><a href="#lista">Lista de discussão</a></li>
    <li><a href="#docs">Documentação</a></li>
    <li><a href="#sedsed">Depurador (debug)</a></li>
    <li><a href="#scripts">Programas / Scripts</a></li>
    <li><a href="#mensagens">Mensagens de erro</a></li>
    <li><a href="#gnu-sed">GNU Sed 3.02.80</a></li>
    <li><a href="#palestra">Palestra sobre Sed</a></li>
    <li><a href="#divirta-se">Divirta-se!</a></li>
  </ul>
</nav>

<p class="figure">
  <a href="http://ctnovatec.com.br/cursos/trilha-aurelio/expressoes-regulares-imersao/">
    <img src="/img/banner-curso-regex-novatec.png">
  </a>
</p>

<h2 id="lista">Lista de discussão</h2>

<p>Você ainda não assina a <a href="http://br.groups.yahoo.com/group/sed-br/">sed-br</a>? Demorou. <a href="mailto:sed-br-subscribe@yahoogrupos.com.br">Inscreva-se já</a> para conversar com outros coleguinhas sobre Sed e <a href="/regex/">Expressões Regulares</a>.</p>

<p>Your book is on the table? So <a href="http://tech.groups.yahoo.com/group/sed-users/">try this one</a> for advanced topics in english.</p>

<h2 id="docs">Documentação</h2>

<h3>Em português</h3>

<dl>
  <dt>
    <a href="alfabeto.html">Alfabeto do sed</a> <em>por Aurelio Marinho Jargas</em>
  </dt>
  <dd>Uma cola rápida de todos os comandos do sed, em ordem alfabética.</dd>
  <dt>
    <a href="/sed/sed-HOWTO/">Sed HOWTO</a> <em>por Aurelio Marinho Jargas</em>
  </dt>
  <dd>Este documento se propõe a ser um tutorial e um guia de consulta de Sed ao mesmo tempo. Ele apresenta o Sed aos poucos, explicando seu funcionamento, mas também conta com dicas avançadas. Este guia é exclusivo de Sed, as Expressões Regulares não são abordadas.</dd>
  <dt>
    <a href="/sed/livro/">Dominando o Sed</a> <em>por Aurelio Marinho Jargas</em>
  </dt>
  <dd>Um livro inacabado sobre Sed, disponível gratuitamente em PDF. Ele cobre instalação, todos os detalhes dos endereços, como lidar com arquivos, quebras de linha, maiúsculas e minúsculas, contando com vários exemplos didáticos com que podem ser testados em sua máquina.</dd>
  <dt>
    <a href="/sed/1liners-ptBR.txt">Sed 1liners</a> <em>por Ricardo Sartori</em>
  </dt>
  <dd>Comandos Sed de apenas 1 linha, prontos para copiar e colar.</dd>
  <dt>
    <a href="http://thobias.org/doc/sosed.html">Só Sed</a> <em>por Thobias Salazar Trevisan</em>
  </dt>
  <dd>Rápido e rasteiro, exemplos do Sed em ação resolvendo problemas comuns.</dd>
  <dt>
    <a href="http://thobias.org/doc/inc_sed.html">Usando o sed para contar</a> <em>por Thobias Salazar Trevisan</em>
  </dt>
  <dd>Explicação didática de como incrementar números (e letras) usando o Sed.</dd>
  <dt>
    <a href="http://thobias.org/doc/lookup_tables_sed.html">Lookup Tables &amp; Incrementando em sed</a> <em>por Thobias Salazar Trevisan</em>
  </dt>
  <dd>Demonstração do uso da técnica de Lookup Tables em Sed.</dd>
  <dt>
    <a href="http://thobias.org/doc/sedbranch.html">Branches no sed</a> <em>por Thobias Salazar Trevisan</em>
  </dt>
  <dd>Explicação dos comandos de branch (pulo, tipo GOTO) em Sed.</dd>
  <dt>
    <a href="/regex/">Expressões Regulares</a> <em>por Aurelio Marinho Jargas</em>
  </dt>
  <dd>Vários documentos e um livro inteiro para você entender que <strong><code>^#!.*$</code></strong> não é um xingamento.</dd>
  <dt>
    <a href="/sed/sed-dicas.txt">Dicas soltas de Sed</a> <em>por Aurelio Marinho Jargas</em>
  </dt>
  <dd>Diquinhas soltas, rápidas, para ler e esquecer.</dd>
</dl>

<h3>Em inglês</h3>

<dl>
  <dt>
    <a href="http://sed.sourceforge.net">Portal mundial do Sed</a> <em>por Aurelio Marinho Jargas</em>
  </dt>
  <dd>Este é o portal mundial do Sed, com dezenas de links para programas, artigos, sites e até jogos! Prepare-se para gastar MUITAS horas lendo todo o conteúdo.</dd>
  <dt>
    <a href="http://www.grymoire.com/Unix/Sed.html">Sed - An Introduction and Tutorial</a>
  </dt>
  <dd>Um guia bem completo, cheio de exemplos, que explica em detalhes o funcionamento do Sed.</dd>
</dl>

<h2 id="sedsed">Depurador (debug)</h2>

<p>O <a href="/projects/sedsed/">sedsed</a> é um depurador (debugger) para scripts Sed escrito em Python. Sempre que seu script crescer e ficar confuso, ou estiver usando o <a href="/sed/sed-howto/#registradores-internos">HOLD SPACE</a>, esse depurador salvará a sua vida lhe mostrando o conteúdo dos buffers internos do Sed enquanto o script é executado.</p>

<p>Além disso o mesmo programa também serve como embelezador de código ("<em>indentation</em>") e também converte scripts Sed para páginas HTML coloridas. Veja por exemplo como ficou o <a href="/sed/sokoban/sokoban.sed.html">SedSokoban em HTML</a>.</p>

<h2 id="scripts">Programas / Scripts</h2>

<p>Aqui estão alguns programinhas em Sed que eu fiz. Alguns estão com o nome e comentários em inglês porque eu os postei em listas gringas e não tive tempo/saco de traduzir. Se você tem, traduza e me mande que eu coloco aqui :D</p>

<dl>
  <dt>
    <a href="/projects/sedsokoban/">sokoban.sed</a>
  </dt>
  <dd>
    <p>O clássico jogo de empurrar caixas, Sokoban, inteiramente escrito em Sed. O jogo está bem completo, com 90 níveis, cores, comandos, detecção de vitória e movimentação do personagem usando as setinhas do teclado.</p>
    <p class="figure">
      <a href="/projects/sedsokoban/">
        <img src="/projects/img/icon/128/sedsokoban.png">
      </a>
    </p>
  </dd>
  <dt>
    <a href="/projects/sedarkanoid/">arkanoid.sed</a>
  </dt>
  <dd>
    <p>O clássico jogo Arkanoid (Breakout) inteiramente escrito em Sed. O jogo está bem completo, com cores, explosões cadenciadas, possibilidade de segurar a bolinha no bastão e tem 3 vidas.</p>
    <p class="figure">
      <a href="/projects/sedarkanoid/">
        <img src="/projects/img/icon/128/sedarkanoid.png">
      </a>
    </p>
  </dd>
  <dt>
    <a href="programas/justify.sed">justify.sed</a>
  </dt>
  <dd>Justificador de texto.</dd>
  <dt>
    <a href="programas/mail-iso2txt.sed">mail-iso2txt.sed</a>
  </dt>
  <dd>Traduz os =20 e outros aliens que às vezes aparecem em mensagens de e-mail.</dd>
  <dt>
    <a href="programas/wrap-forced.sed">wrap-forced.sed</a>
  </dt>
  <dd>Quebra as linhas exatamente na coluna especificada, sem se importar com o contexto.</dd>
  <dt>
    <a href="programas/yahoogroups-kill-sig.sed">yahoogroups-kill-sig.sed</a>
  </dt>
  <dd>Apaga a propaganda do Yahoo! das mensagens de e-mail (TXT ou HTML).</dd>
  <dt>
    <a href="programas/escape.sed">escape.sed</a>
  </dt>
  <dd>Converte os símbolos <code>[^A-Za-z0-9_]</code> para hexadecimais, usando a notação de internet como %20.</dd>
  <dt>
    <a href="programas/unescape.sed">unescape.sed</a>
  </dt>
  <dd>Desconverte o que o escape.sed converteu.</dd>
  <dt>
    <a href="programas/txt2sgml-sed">txt2sgml-sed</a>
  </dt>
  <dd>
    Um conversor simples de arquivos texto puro (TXT) para SGML. Este é um script bem antigo, que deu origem ao <a href="http://txt2tags.org/pt/">txt2tags</a>.
  </dd>
</dl>

<h2 id="mensagens">Mensagens de erro</h2>

<p>Eu sou o tradutor do GNU Sed para o português. Isso inclui todas as mensagens que o programa mostra na tela durante o uso, como a tela de ajuda (--help) e as mensagens de erro.</p>

<p>As mensagens originais são bem curtas e difíceis de entender, eu tentei torná-las mais amigáveis, colocando dicas adicionais sobre a possível causa dos problemas. Veja alguns exemplos:</p>

<dl>
  <dt><code>unterminated `s' command</code></dt>
  <dd>Comando `s' inacabado (s/// - faltou delimitador)</dd>
  <dt><code>unknown option to `s'</code></dt>
  <dd>Opção desconhecida para o comando `s' (s///?)</dd>
  <dt><code>Invalid content of \\{\\}</code></dt>
  <dd>Conteúdo inválido no \\{\\} (permitidos números e vírgula)</dd>
</dl>

<p>Se o seu Sed está em inglês e você está tendo problemas para decifrar alguma mensagem, dê uma olhada no <a href="http://translationproject.org/PO-files/pt_BR/sed-4.2.0.pt_BR.po">arquivo de tradução</a> e procure pela frase em questão, pois a tradução pode te ajudar.</p>

<h2 id="gnu-sed">GNU Sed 3.02.80</h2>

<p>Nem lembro mais porque eu guardava essa versão específica do Sed, mas tem algo a ver com a troca de mantenedor do programa. A versão seguinte a essa contava com firulas inúteis, que eu não gostei. Hoje isso já não faz mais diferença na minha vida (hehe), então que fique aqui para fins meramente arqueológicos:</p>

<ul>
  <li>
    <a href="sed-3.02.80.tar.gz">GNU Sed 3.02.80 — Linux (.tar.gz)</a> (342 Kb)
  </li>
  <li>
    <a href="sed-3.02.80-4cl.i386.rpm">GNU Sed 3.02.80 — Linux (RPM)</a> (63 Kb)
  </li>
  <li>
    <a href="sed3028a.zip">GNU Sed 3.02.80 — Windows (EXE)</a> (68 Kb)
  </li>
</ul>

<h2 id="palestra">Palestra sobre Sed</h2>

<p>Nos dias 27 e 28 de outubro de 1999 (é, faz tempo, tou véio), eu fiz uma palestra sobre Sed e <a href="/regex/">Expressões Regulares</a> para os funcionários da Conectiva.</p>

<p>A palestra foi gravada e aqui está um resumão dela, divido em dois arquivos. Provavelmente quase nada é aproveitável desses arquivos, visto que não é a palestra corrida e sim apenas o supra-sumo de cada tópico, mas se servir pra alguém já vale.</p>

<p>É uma pena que eu cortei demais. As frases ficaram grudadas e há poucos trechos com as falas do pessoal que estava assistindo. Dá pra identificar as vozes do <a href="http://oops.ghostprotocols.net:81/blog/">Acme</a> e do <a href="http://pt.wikipedia.org/wiki/Marcelo_Tosatti">Marcelo Tosatti</a>, em trechos curtos.</p>

<p>Nas tabelas seguintes, há uma descrição breve do assunto de cada trecho. Acompanhe os bips para saber quando passou de um trecho para o outro.</p>

<p>Obrigado ao amigo Fernando Rodrigues por ter convertido para MP3 os arquivos originais que estavam em Real Audio.</p>

<ul>
  <li>
    <a href="sed1-19991027.mp3">sed1-19991027.mp3</a> (2,3 Mb): Como o Sed funciona e seus comandos básicos
  </li>
  <li>
    <a href="sed2-19991028.mp3">sed2-19991028.mp3</a> (2,6 Mb): Expressões Regulares em Sed
  </li>
</ul>

<p>Segue uma descrição dos tópicos abordados em cada arquivo:</p>

<table class="tableborder">
  <tr>
    <td class="center" colspan="3"><em>27 de Outubro de 1999, 13:09 minutos</em></td>
  </tr>
  <tr>
    <th>#</th>
    <th>assunto</th>
    <th>descrição</th>
  </tr>
  <tr>
    <td class="right">1</td>
    <td class="center"><strong>nome func</strong></td>
    <td>s+ed, fluxo, funcionamento, STDIN/STDOUT, regras</td>
  </tr>
  <tr>
    <td class="right">2</td>
    <td class="center"><strong>util</strong></td>
    <td>substituição de padrões</td>
  </tr>
  <tr>
    <td class="right">3</td>
    <td class="center"><strong>chamada</strong></td>
    <td>cat A |sed; sed 's///' A &gt; A2</td>
  </tr>
  <tr>
    <td class="right">4</td>
    <td class="center"><strong>cp</strong></td>
    <td>tática cp;sed;rm - permissões, ligações e atributos</td>
  </tr>
  <tr>
    <td class="right">5</td>
    <td class="center"><strong>delimitador</strong></td>
    <td>barras, tem que ser 3</td>
  </tr>
  <tr>
    <td class="right">6</td>
    <td class="center"><strong>s///g</strong></td>
    <td>modificador g: global, + de 1 ocorrência</td>
  </tr>
  <tr>
    <td class="right">7</td>
    <td class="center"><strong>s/\///</strong></td>
    <td>escapar a / com um \ para não confundir com o delim</td>
  </tr>
  <tr>
    <td class="right">8</td>
    <td class="center"><strong>s@@@</strong></td>
    <td>s/$velho/$novo/, barra é padrão</td>
  </tr>
  <tr>
    <td class="right">9</td>
    <td class="center"><strong>" ou '</strong></td>
    <td>bash. sempre use '' ou "" ao redor</td>
  </tr>
  <tr>
    <td>10</td>
    <td class="center"><strong>$aux</strong></td>
    <td>aux=/1998 ; echo sed s,$aux,lala,</td>
  </tr>
  <tr>
    <td>11</td>
    <td class="center"><strong>echo sed</strong></td>
    <td>faz as substituições normais do bash</td>
  </tr>
  <tr>
    <td>12</td>
    <td class="center"><strong>-n s///p</strong></td>
    <td>geralmente com -n usa-se o p</td>
  </tr>
  <tr>
    <td>13</td>
    <td class="center"><strong>dica</strong></td>
    <td>?</td>
  </tr>
  <tr>
    <td>14</td>
    <td class="center"><strong>s<em>/ ; s/</em></strong></td>
    <td>vários comandos seguidos</td>
  </tr>
  <tr>
    <td>15</td>
    <td class="center"><strong>dica</strong></td>
    <td>vantagem s<em>/ ; s/</em> por sed|sed</td>
  </tr>
  <tr>
    <td>16</td>
    <td class="center"><strong>aplicativos</strong></td>
    <td>grep, cat, rev, etc</td>
  </tr>
  <tr>
    <td>17</td>
    <td class="center"><strong>=</strong></td>
    <td>= mostra o número da linha</td>
  </tr>
  <tr>
    <td>18</td>
    <td class="center"><strong>N</strong></td>
    <td>N grude a próxima linha com a minha atual</td>
  </tr>
</table>

<table class="tableborder">
  <tr>
    <td class="center" colspan="3"><em>20 de Outubro de 1999, 14:39 minutos</em></td>
  </tr>
  <tr>
    <th>#</th>
    <th>assunto</th>
    <th>descrição</th>
  </tr>
  <tr>
    <td class="right">1</td>
    <td class="center"><strong>âncoras</strong></td>
    <td>^$</td>
  </tr>
  <tr>
    <td class="right">2</td>
    <td class="center"><strong>.</strong></td>
    <td>qualquer caractere</td>
  </tr>
  <tr>
    <td class="right">3</td>
    <td class="center"><strong>classe char</strong></td>
    <td>[], nada é interpretado</td>
  </tr>
  <tr>
    <td class="right">4</td>
    <td class="center"><strong>intervalo</strong></td>
    <td>0-9 = 0123456789, tabela ASCII, A-z != A-Za-z</td>
  </tr>
  <tr>
    <td class="right">5</td>
    <td class="center"><strong>chk domínio</strong></td>
    <td>^[A-Za-z0-9.]*, zero uma ou mais vezes</td>
  </tr>
  <tr>
    <td class="right">6</td>
    <td class="center"><strong>.*</strong></td>
    <td>tudo ou nada, curinga</td>
  </tr>
  <tr>
    <td class="right">7</td>
    <td class="center"><strong>o * guloso</strong></td>
    <td>http://www.lala.com.br:80 — ^.*:</td>
  </tr>
  <tr>
    <td class="right">8</td>
    <td class="center"><strong>\+</strong></td>
    <td>motivos históricos, escapado para ser especial</td>
  </tr>
  <tr>
    <td class="right">9</td>
    <td class="center"><strong>\?</strong></td>
    <td>.html* casa .htmllllll, então faz .html\?</td>
  </tr>
  <tr>
    <td>10</td>
    <td class="center"><strong>classe neg</strong></td>
    <td>1º caractere deve ser ^, ! é negação no sed</td>
  </tr>
  <tr>
    <td>11</td>
    <td class="center"><strong>tags html</strong></td>
    <td>abordagem inversa: o que NÃO pode ter, &lt;[^&gt;]*&gt;</td>
  </tr>
  <tr>
    <td>12</td>
    <td class="center"><strong>técnica</strong></td>
    <td>nega pois ele é o delimitador</td>
  </tr>
  <tr>
    <td>13</td>
    <td class="center"><strong>é fácil</strong></td>
    <td>encarar a ER como pequenas partes, ler um a um</td>
  </tr>
  <tr>
    <td>14</td>
    <td class="center"><strong>\|</strong></td>
    <td>devem ser escapados os (), código C</td>
  </tr>
  <tr>
    <td>15</td>
    <td class="center"><strong>aninhando</strong></td>
    <td>parênteses dentro de parênteses</td>
  </tr>
  <tr>
    <td>16</td>
    <td class="center"><strong>buffer</strong></td>
    <td>()s, conta da esquerda para a direita, até 9, \1</td>
  </tr>
  <tr>
    <td>17</td>
    <td class="center"><strong>dica</strong></td>
    <td>sem escapar, depois sai escapando tudo</td>
  </tr>
  <tr>
    <td>18</td>
    <td class="center"><strong>cut</strong></td>
    <td>trocar a ordem de 2 campos</td>
  </tr>
</table>

<h2 id="divirta-se">Divirta-se!</h2>

<h3>Sed Superman</h3>

<p class="figure">
  <img src="/sed/img/sed-superman.png">
</p>

<h3>Evolução das línguas</h3>

<p class="figure">
  <a href="http://www.userfriendly.org/cartoons/archives/99aug/19990815.html">
    <img src="/sed/img/grep-awk-sed.gif">
  </a>
</p>
